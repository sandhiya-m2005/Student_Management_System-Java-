package db;



    import model.Student;
    import java.io.*;
    import java.util.ArrayList;
    import java.util.List;

    public class FileHandler {
        private static final String FILE = "students.csv";

        public static void saveStudents(List<Student> students) {
            try (PrintWriter pw = new PrintWriter(new FileWriter(FILE))) {
                for (Student s : students) pw.println(s.toCSV());
            } catch (IOException e) { e.printStackTrace(); }
        }

        public static List<Student> loadStudents() {
            List<Student> students = new ArrayList<>();
            File f = new File(FILE);
            if (!f.exists()) return students;
            try (BufferedReader br = new BufferedReader(new FileReader(FILE))) {
                String line;
                while ((line = br.readLine()) != null) {
                    Student s = Student.fromCSV(line);
                    if (s != null) students.add(s);
                }
            } catch (IOException e) { e.printStackTrace(); }
            return students;
        }
    }


